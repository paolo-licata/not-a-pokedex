let pokemonRepository=function(){let e=[];function t(){return e}function n(t){"object"==typeof t&&null!==t&&"name"in t&&"detailsUrl"in t?e.push(t):console.error("Invalid PokemonItem. Make sure to enter an object with the specified properties")}function o(e){return fetch(e.detailsUrl).then(function(e){return e.json()}).then(function(t){e.name=t.name,e.imageUrl=t.sprites.front_default,e.height=t.height,e.types=t.types}).catch(function(e){console.error(e)})}function i(e){o(e).then(function(){let t=document.querySelector(".modal-title"),n=document.querySelector(".modal-body");t.innerHTML="",n.innerHTML="",t.innerText=e.name;let o=document.createElement("img");o.src=e.imageUrl,o.classList.add("pokemon-image");let i=document.createElement("p");i.innerText=`Height: ${e.height}`;let l=document.createElement("p");l.innerText=`Types: ${e.types.map(e=>e.type.name).join(", ")}`,n.appendChild(o),n.appendChild(i),n.appendChild(l),$(".modal").modal("show")})}return{getAll:t,add:n,addListItem:function e(t){let n=document.querySelector(".row"),o=document.createElement("li");o.classList.add("col-12","col-sm-6","col-md-4","col-lg-3");let l=document.createElement("button");l.classList.add("btn","btn-secondary","button-class");let r=document.createElement("img");r.src=t.imageUrl,r.classList.add("pokemon-button-image"),l.appendChild(r),l.appendChild(document.createTextNode(t.name)),o.appendChild(l),n.appendChild(o),function e(t,n){t.addEventListener("click",function(){i(n)})}(l,t)},loadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){n({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:o,showDetails:i}}();function filterPokemon(e){let t=pokemonRepository.getAll().filter(t=>t.name.toLowerCase().includes(e));document.querySelector(".row").innerHTML="",t.forEach(e=>{pokemonRepository.addListItem(e)})}pokemonRepository.loadList().then(function(){let e=pokemonRepository.getAll();Promise.all(e.map(e=>pokemonRepository.loadDetails(e))).then(function(){e.forEach(function(e){pokemonRepository.addListItem(e)})})}),document.getElementById("search-form").addEventListener("submit",function(e){e.preventDefault();filterPokemon(document.getElementById("search-input").value.toLowerCase())});